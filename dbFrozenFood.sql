      /*==============================================================*/
      /* DBMS name:      MySQL 5.0                                    */
      /* Dibuat ulang agar 100% kompatibel XAMPP (MySQL 5.7+/MariaDB) */
      /*==============================================================*/


   SET FOREIGN_KEY_CHECKS = 0;
      CREATE DATABASE skripsi;
      USE skripsi;
   DROP TABLE IF EXISTS BIAYA_OPERASIONAL;
   DROP TABLE IF EXISTS DETAIL_NOTA_JUAL;
      DROP TABLE IF EXISTS DETAIL_TRANSFER_BARANG_BATCH;
   DROP TABLE IF EXISTS DETAIL_TRANSFER_BARANG;
   DROP TABLE IF EXISTS MASTER_BARANG;
   DROP TABLE IF EXISTS MASTER_KATEGORI_BARANG;
   DROP TABLE IF EXISTS MASTER_LOKASI;
   DROP TABLE IF EXISTS MASTER_MEREK;
   DROP TABLE IF EXISTS MASTER_SUPPLIER;
   DROP TABLE IF EXISTS MASTER_TIPE_BIAYA_OPERASIONAL;
   DROP TABLE IF EXISTS MUTASI_BARANG_RUSAK;
   DROP TABLE IF EXISTS NOTA_JUAL;
      DROP TABLE IF EXISTS PERHITUNGAN_INTERVAL_POQ;
      DROP TABLE IF EXISTS PERHITUNGAN_KUANTITAS_POQ;
   DROP TABLE IF EXISTS PESAN_BARANG;
   DROP TABLE IF EXISTS STOCK;
   DROP TABLE IF EXISTS STOCK_HISTORY;
   DROP TABLE IF EXISTS STOCK_OPNAME;
   DROP TABLE IF EXISTS TRANSFER_BARANG;
   DROP TABLE IF EXISTS USERS;
   SET FOREIGN_KEY_CHECKS = 1;

      /*==============================================================*/
      /* Table: BIAYA_OPERASIONAL                                     */
      /*==============================================================*/
      CREATE TABLE BIAYA_OPERASIONAL (
         ID_COST                      VARCHAR(16) NOT NULL,
         KD_LOKASI                    VARCHAR(8),
         KD_TIPE_BIAYA_OPERASIONAL    VARCHAR(16),
         JUMLAH_BIAYA_UANG            DECIMAL(20,2),
         PERIODE                      ENUM('HARIAN','BULANAN','TAHUNAN'),
         LAST_UPDATED                 TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
         PRIMARY KEY (ID_COST)
      );

      /*==============================================================*/
      /* Table: DETAIL_NOTA_JUAL                                      */
      /*==============================================================*/
      CREATE TABLE DETAIL_NOTA_JUAL (
         ID_DNJB                      VARCHAR(16) NOT NULL,
         KD_BARANG                    VARCHAR(16),
         ID_NOTA_JUAL                 VARCHAR(16),
         JUMLAH_JUAL_BARANG           INT,
         HARGA_JUAL_BARANG            DECIMAL(20,2),
         TOTAL_JUAL_UANG              DECIMAL(20,2),
         HARGA_BELI_BARANG            DECIMAL(20,2),
         TOTAL_BELI_UANG              DECIMAL(20,2),
         PRIMARY KEY (ID_DNJB)
      );

      /*==============================================================*/
      /* Table: DETAIL_TRANSFER_BARANG                                */
      /*==============================================================*/
      CREATE TABLE DETAIL_TRANSFER_BARANG (
         ID_DETAIL_TRANSFER_BARANG    VARCHAR(16) NOT NULL,
         ID_TRANSFER_BARANG           VARCHAR(16),
         KD_BARANG                    VARCHAR(16),
         TOTAL_PESAN_TRANSFER_DUS     INT,
         TOTAL_KIRIM_DUS             INT,
         TOTAL_TIBA_DUS              INT,
         TOTAL_DITOLAK_DUS           INT,
         TOTAL_MASUK_DUS              INT,
         STATUS                       ENUM('DIPESAN', 'DIKIRIM', 'DIBATALKAN', 'SELESAI', 'TIDAK_DIKIRIM'),
         PRIMARY KEY (ID_DETAIL_TRANSFER_BARANG)
      );

      /*==============================================================*/
      /* Table: DETAIL_TRANSFER_BARANG_BATCH                          */
      /*==============================================================*/
      CREATE TABLE DETAIL_TRANSFER_BARANG_BATCH (
         ID_DETAIL_TRANSFER_BARANG_BATCH VARCHAR(16) NOT NULL,
         ID_DETAIL_TRANSFER_BARANG    VARCHAR(16),
         ID_PESAN_BARANG              VARCHAR(16),
         JUMLAH_PESAN_TRANSFER_BATCH_DUS INT,
         JUMLAH_KIRIM_DUS             INT,
         JUMLAH_TIBA_DUS              INT,
         JUMLAH_DITOLAK_DUS           INT,
         JUMLAH_MASUK_DUS             INT,
         PRIMARY KEY (ID_DETAIL_TRANSFER_BARANG_BATCH)
      );

      /*==============================================================*/
      /* Table: MASTER_BARANG                                         */
      /*==============================================================*/
      CREATE TABLE MASTER_BARANG (
         KD_BARANG                    VARCHAR(16) NOT NULL,
         KD_KATEGORI_BARANG           VARCHAR(8),
         KD_SUPPLIER                  VARCHAR(8),
         KD_MEREK_BARANG              VARCHAR(8),
         NAMA_BARANG                  VARCHAR(256),
         BERAT                        INT,
         AVG_HARGA_BELI_PIECES        DECIMAL(20,2),
         HARGA_JUAL_BARANG_PIECES     DECIMAL(20,2),
         SATUAN_PERDUS                INT,
         GAMBAR_BARANG                VARCHAR(512),
         LAST_UPDATED                 TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
         STATUS                       ENUM('AKTIF', 'TIDAK AKTIF'),
         PRIMARY KEY (KD_BARANG)
      );

      /*==============================================================*/
      /* Master tables                                                        */
      /*==============================================================*/
   CREATE TABLE MASTER_KATEGORI_BARANG (
         KD_KATEGORI_BARANG   VARCHAR(8) NOT NULL,
         NAMA_KATEGORI        VARCHAR(256),
         STATUS               ENUM('AKTIF', 'TIDAK AKTIF'),
      PRIMARY KEY (KD_KATEGORI_BARANG)
      );

      CREATE TABLE MASTER_LOKASI (
         KD_LOKASI            VARCHAR(8) NOT NULL,
         NAMA_LOKASI          VARCHAR(256),
         TYPE_LOKASI          ENUM('gudang', 'toko'),
         ALAMAT_LOKASI        VARCHAR(256),
         MAX_STOCK_TOTAL      INT,
         SATUAN               ENUM('PIECES', 'DUS'),
         STATUS               ENUM('AKTIF', 'TIDAK AKTIF'),
         PRIMARY KEY (KD_LOKASI)
      );

   CREATE TABLE MASTER_MEREK (
         KD_MEREK_BARANG      VARCHAR(8) NOT NULL,
         NAMA_MEREK           VARCHAR(256),
         STATUS               ENUM('AKTIF', 'TIDAK AKTIF'),
      PRIMARY KEY (KD_MEREK_BARANG)
      );

   CREATE TABLE MASTER_SUPPLIER (
         KD_SUPPLIER          VARCHAR(8) NOT NULL,
         NAMA_SUPPLIER        VARCHAR(256),
         ALAMAT_SUPPLIER      VARCHAR(256),
         PIC_SUPPLIER         VARCHAR(256),
         NOTELP_SUPPLIER      VARCHAR(20),
         STATUS               ENUM('AKTIF', 'TIDAK AKTIF'),
      PRIMARY KEY (KD_SUPPLIER)
      );

      CREATE TABLE MASTER_TIPE_BIAYA_OPERASIONAL (
         KD_TIPE_BIAYA_OPERASIONAL VARCHAR(8) NOT NULL,
         NAMA_TIPE_BIAYA_OPERASIONAL VARCHAR(256),
         PRIMARY KEY (KD_TIPE_BIAYA_OPERASIONAL)
      );

      /*==============================================================*/
      /* Lain-lain                                                            */
      /*==============================================================*/
      CREATE TABLE MUTASI_BARANG_RUSAK (
         ID_MUTASI_BARANG_RUSAK VARCHAR(16) NOT NULL,
         KD_BARANG              VARCHAR(16),
         KD_LOKASI              VARCHAR(8),
         UPDATED_BY             VARCHAR(8),
         JUMLAH_MUTASI_DUS      INT,
         SATUAN_PERDUS          INT,
         TOTAL_BARANG_PIECES    INT,
         HARGA_BARANG_PIECES    DECIMAL(20,2),
         TOTAL_UANG             DECIMAL(20,2),
         REF                    VARCHAR(16),
         WAKTU_MUTASI           TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         PRIMARY KEY (ID_MUTASI_BARANG_RUSAK)
      );

   CREATE TABLE NOTA_JUAL (
         ID_NOTA_JUAL           VARCHAR(16) NOT NULL,
         ID_USERS               VARCHAR(8),
         KD_LOKASI              VARCHAR(8),
         WAKTU_NOTA             TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         TOTAL_JUAL_BARANG      INT,
         SUB_TOTAL_JUAL         DECIMAL(20,2),
         PAJAK                  DECIMAL(20,2),
         GRAND_TOTAL            DECIMAL(20,2),
         SUB_TOTAL_BELI         DECIMAL(20,2),
         GROSS_PROFIT           DECIMAL(20,2),
         PRIMARY KEY (ID_NOTA_JUAL)
      );

      CREATE TABLE PERHITUNGAN_INTERVAL_POQ (
         ID_PERHITUNGAN_INTERVAL_POQ VARCHAR(16) NOT NULL,
         KD_LOKASI              VARCHAR(8),
         KD_BARANG              VARCHAR(16),
         DEMAND_RATE            INT,
         SETUP_COST             DECIMAL(20,2),
         HOLDING_COST           DECIMAL(20,2),
         INTERVAL_HARI          INT,
         WAKTU_PERHITUNGAN_INTERVAL_POQ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         PRIMARY KEY (ID_PERHITUNGAN_INTERVAL_POQ)
      );

      CREATE TABLE PERHITUNGAN_KUANTITAS_POQ (
         ID_PERHITUNGAN_KUANTITAS_POQ VARCHAR(16) NOT NULL,
         ID_PERHITUNGAN_INTERVAL_POQ VARCHAR(16),
         KD_LOKASI              VARCHAR(8),
         KD_BARANG              VARCHAR(16),
         INTERVAL_HARI          INT,
         DEMAND_RATE            INT,
         LEAD_TIME              INT,
         STOCK_SEKARANG         INT,
         KUANTITAS_POQ          INT,
         WAKTU_PERHITUNGAN_KUANTITAS_POQ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         PRIMARY KEY (ID_PERHITUNGAN_KUANTITAS_POQ)
      );

   CREATE TABLE PESAN_BARANG (
         ID_PESAN_BARANG        VARCHAR(16) NOT NULL,
         KD_LOKASI              VARCHAR(8),
         KD_BARANG              VARCHAR(16),
         ID_PERHITUNGAN_KUANTITAS_POQ VARCHAR(16),
         KD_SUPPLIER            VARCHAR(8),
         HARGA_PESAN_BARANG_DUS DECIMAL(20,2),
         BIAYA_PENGIRIMAAN      DECIMAL(20,2),
         JUMLAH_PESAN_BARANG_DUS INT,
         JUMLAH_TIBA_DUS        INT,
         JUMLAH_DITOLAK_DUS     INT,
         TOTAL_MASUK_DUS        INT,
         SISA_STOCK_DUS         INT,
         TGL_EXPIRED            DATE,
         WAKTU_PESAN            TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         WAKTU_ESTIMASI_SELESAI  TIMESTAMP NULL,
         WAKTU_SELESAI           TIMESTAMP NULL,
         STATUS                 ENUM('DIPESAN','DIKIRIM','DIBATALKAN','SELESAI'),
         PRIMARY KEY (ID_PESAN_BARANG)
      );

   CREATE TABLE STOCK (
         KD_BARANG              VARCHAR(16) NOT NULL,
         KD_LOKASI              VARCHAR(8) NOT NULL,
         UPDATED_BY             VARCHAR(8),
         JUMLAH_BARANG          INT,
         JUMLAH_MIN_STOCK       INT,
         JUMLAH_MAX_STOCK       INT,
         SATUAN                 ENUM('PIECES', 'DUS'),
         LAST_UPDATED           TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
         PRIMARY KEY (KD_BARANG, KD_LOKASI)
      );

   CREATE TABLE STOCK_HISTORY (
         ID_HISTORY_STOCK       VARCHAR(16) NOT NULL,
         KD_BARANG              VARCHAR(16),
         KD_LOKASI              VARCHAR(8),
         UPDATED_BY             VARCHAR(8),
         JUMLAH_AWAL            INT,
         JUMLAH_PERUBAHAN       INT,
         JUMLAH_AKHIR           INT,
         TIPE_PERUBAHAN         ENUM('PEMESANAN', 'TRANSFER', 'OPNAME', 'RUSAK', 'PENJUALAN'),
         REF                    VARCHAR(16),
         SATUAN                 ENUM('PIECES', 'DUS'),
         WAKTU_CHANGE           TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         PRIMARY KEY (ID_HISTORY_STOCK)
      );

   CREATE TABLE STOCK_OPNAME (
         ID_OPNAME              VARCHAR(16) NOT NULL,
      KD_BARANG              VARCHAR(16),
         KD_LOKASI              VARCHAR(8),
         ID_USERS               VARCHAR(8),
         JUMLAH_SEBENARNYA      INT,
         JUMLAH_SISTEM          INT,
         SELISIH                INT,
         SATUAN                 ENUM('PIECES', 'DUS'),
         SATUAN_PERDUS          INT,
         TOTAL_BARANG_PIECES    INT,
         HARGA_BARANG_PIECES    DECIMAL(20,2),
         TOTAL_UANG             DECIMAL(20,2),
         WAKTU_OPNAME           TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
         PRIMARY KEY (ID_OPNAME)
      );

      CREATE TABLE TRANSFER_BARANG (
         ID_TRANSFER_BARANG     VARCHAR(16) NOT NULL,
         ID_USERS_PENERIMA      VARCHAR(8),
         ID_USERS_PENGIRIM      VARCHAR(8),
         KD_LOKASI_ASAL         VARCHAR(8),
         KD_LOKASI_TUJUAN       VARCHAR(8),
         WAKTU_PESAN_TRANSFER   TIMESTAMP NULL,
         WAKTU_KIRIM_TRANSFER   TIMESTAMP NULL,
         WAKTU_SELESAI_TRANSFER    TIMESTAMP NULL,
         STATUS                 ENUM('DIPESAN', 'DIKIRIM', 'DIBATALKAN', 'SELESAI'),
         PRIMARY KEY (ID_TRANSFER_BARANG)
      );

      CREATE TABLE USERS (
         ID_USERS               VARCHAR(8) NOT NULL,
         KD_LOKASI              VARCHAR(8),
         NAMA                   VARCHAR(256),
         USERNAME               VARCHAR(256),
         PASSWORD               VARCHAR(256),
         STATUS                 ENUM('AKTIF', 'TIDAK AKTIF'),
         PRIMARY KEY (ID_USERS)
      );

      /*==============================================================*/
      /* Foreign Keys (harus di paling akhir biar tidak error urutan) */
      /*==============================================================*/

      ALTER TABLE BIAYA_OPERASIONAL ADD CONSTRAINT FK_BIAYA_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE BIAYA_OPERASIONAL ADD CONSTRAINT FK_BIAYA_TIPE FOREIGN KEY (KD_TIPE_BIAYA_OPERASIONAL) REFERENCES MASTER_TIPE_BIAYA_OPERASIONAL (KD_TIPE_BIAYA_OPERASIONAL);

      ALTER TABLE DETAIL_NOTA_JUAL ADD CONSTRAINT FK_DNJ_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);
      ALTER TABLE DETAIL_NOTA_JUAL ADD CONSTRAINT FK_DNJ_NOTA FOREIGN KEY (ID_NOTA_JUAL) REFERENCES NOTA_JUAL (ID_NOTA_JUAL);

      ALTER TABLE DETAIL_TRANSFER_BARANG ADD CONSTRAINT FK_DT_TRANSFER FOREIGN KEY (ID_TRANSFER_BARANG) REFERENCES TRANSFER_BARANG (ID_TRANSFER_BARANG);
      ALTER TABLE DETAIL_TRANSFER_BARANG ADD CONSTRAINT FK_DT_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);

      ALTER TABLE DETAIL_TRANSFER_BARANG_BATCH ADD CONSTRAINT FK_DTB_DETAIL FOREIGN KEY (ID_DETAIL_TRANSFER_BARANG) REFERENCES DETAIL_TRANSFER_BARANG (ID_DETAIL_TRANSFER_BARANG);
      ALTER TABLE DETAIL_TRANSFER_BARANG_BATCH ADD CONSTRAINT FK_DTB_PESAN FOREIGN KEY (ID_PESAN_BARANG) REFERENCES PESAN_BARANG (ID_PESAN_BARANG);

      ALTER TABLE MASTER_BARANG ADD CONSTRAINT FK_BARANG_MEREK FOREIGN KEY (KD_MEREK_BARANG) REFERENCES MASTER_MEREK (KD_MEREK_BARANG);
      ALTER TABLE MASTER_BARANG ADD CONSTRAINT FK_BARANG_KATEGORI FOREIGN KEY (KD_KATEGORI_BARANG) REFERENCES MASTER_KATEGORI_BARANG (KD_KATEGORI_BARANG);
      ALTER TABLE MASTER_BARANG ADD CONSTRAINT FK_BARANG_SUPPLIER FOREIGN KEY (KD_SUPPLIER) REFERENCES MASTER_SUPPLIER (KD_SUPPLIER);

      ALTER TABLE MUTASI_BARANG_RUSAK ADD CONSTRAINT FK_MUTASI_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);
      ALTER TABLE MUTASI_BARANG_RUSAK ADD CONSTRAINT FK_MUTASI_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE MUTASI_BARANG_RUSAK ADD CONSTRAINT FK_MUTASI_USER FOREIGN KEY (UPDATED_BY) REFERENCES USERS (ID_USERS);

      ALTER TABLE NOTA_JUAL ADD CONSTRAINT FK_NOTA_USER FOREIGN KEY (ID_USERS) REFERENCES USERS (ID_USERS);
      ALTER TABLE NOTA_JUAL ADD CONSTRAINT FK_NOTA_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);

      ALTER TABLE PERHITUNGAN_INTERVAL_POQ ADD CONSTRAINT FK_INTERVAL_POQ_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE PERHITUNGAN_INTERVAL_POQ ADD CONSTRAINT FK_INTERVAL_POQ_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);

      ALTER TABLE PERHITUNGAN_KUANTITAS_POQ ADD CONSTRAINT FK_KUANTITAS_POQ_INTERVAL FOREIGN KEY (ID_PERHITUNGAN_INTERVAL_POQ) REFERENCES PERHITUNGAN_INTERVAL_POQ (ID_PERHITUNGAN_INTERVAL_POQ);
      ALTER TABLE PERHITUNGAN_KUANTITAS_POQ ADD CONSTRAINT FK_KUANTITAS_POQ_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE PERHITUNGAN_KUANTITAS_POQ ADD CONSTRAINT FK_KUANTITAS_POQ_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);

      ALTER TABLE PESAN_BARANG ADD CONSTRAINT FK_PESAN_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);
      ALTER TABLE PESAN_BARANG ADD CONSTRAINT FK_PESAN_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE PESAN_BARANG ADD CONSTRAINT FK_PESAN_POQ FOREIGN KEY (ID_PERHITUNGAN_KUANTITAS_POQ) REFERENCES PERHITUNGAN_KUANTITAS_POQ (ID_PERHITUNGAN_KUANTITAS_POQ);
      ALTER TABLE PESAN_BARANG ADD CONSTRAINT FK_PESAN_SUPPLIER FOREIGN KEY (KD_SUPPLIER) REFERENCES MASTER_SUPPLIER (KD_SUPPLIER);

      ALTER TABLE STOCK ADD CONSTRAINT FK_STOCK_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);
      ALTER TABLE STOCK ADD CONSTRAINT FK_STOCK_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE STOCK ADD CONSTRAINT FK_STOCK_USER FOREIGN KEY (UPDATED_BY) REFERENCES USERS (ID_USERS);

      ALTER TABLE STOCK_HISTORY ADD CONSTRAINT FK_HIST_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG) ON DELETE RESTRICT ON UPDATE RESTRICT;
      ALTER TABLE STOCK_HISTORY ADD CONSTRAINT FK_HIST_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI) ON DELETE RESTRICT ON UPDATE RESTRICT;
      ALTER TABLE STOCK_HISTORY ADD CONSTRAINT FK_HIST_USER FOREIGN KEY (UPDATED_BY) REFERENCES USERS (ID_USERS) ON DELETE RESTRICT ON UPDATE RESTRICT;

      ALTER TABLE STOCK_OPNAME ADD CONSTRAINT FK_OPNAME_BARANG FOREIGN KEY (KD_BARANG) REFERENCES MASTER_BARANG (KD_BARANG);
      ALTER TABLE STOCK_OPNAME ADD CONSTRAINT FK_OPNAME_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE STOCK_OPNAME ADD CONSTRAINT FK_OPNAME_USER FOREIGN KEY (ID_USERS) REFERENCES USERS (ID_USERS);

      ALTER TABLE TRANSFER_BARANG ADD CONSTRAINT FK_TRF_PENGIRIM FOREIGN KEY (ID_USERS_PENGIRIM) REFERENCES USERS (ID_USERS);
      ALTER TABLE TRANSFER_BARANG ADD CONSTRAINT FK_TRF_PENERIMA FOREIGN KEY (ID_USERS_PENERIMA) REFERENCES USERS (ID_USERS);
      ALTER TABLE TRANSFER_BARANG ADD CONSTRAINT FK_TRF_ASAL FOREIGN KEY (KD_LOKASI_ASAL) REFERENCES MASTER_LOKASI (KD_LOKASI);
      ALTER TABLE TRANSFER_BARANG ADD CONSTRAINT FK_TRF_TUJUAN FOREIGN KEY (KD_LOKASI_TUJUAN) REFERENCES MASTER_LOKASI (KD_LOKASI);

      ALTER TABLE USERS ADD CONSTRAINT FK_USERS_LOKASI FOREIGN KEY (KD_LOKASI) REFERENCES MASTER_LOKASI (KD_LOKASI);

-- Dummy Data
INSERT INTO `master_kategori_barang` (`KD_KATEGORI_BARANG`, `NAMA_KATEGORI`, `STATUS`) VALUES
('cx7xRUzL', 'Nugget', 'AKTIF'),
('N9YZGVmr', 'Sosis', 'AKTIF');

INSERT INTO `master_lokasi` (`KD_LOKASI`, `NAMA_LOKASI`, `TYPE_LOKASI`, `ALAMAT_LOKASI`, `MAX_STOCK_TOTAL`, `SATUAN`, `STATUS`) VALUES
('NRb2W8VG', 'Gudang Pusat Bekasi', 'gudang', 'Jl. Narogong Km.12 Bekasi', 2000, 'DUS', 'AKTIF'),
('NsHmYgfe', 'Toko Bekasi Timur', 'toko', 'Ruko Harapan Indah Boulevard', 5000, 'PIECES', 'AKTIF');

INSERT INTO `users` (`ID_USERS`, `KD_LOKASI`, `NAMA`, `USERNAME`, `PASSWORD`, `STATUS`) VALUES
('GDNGj825', 'NRb2W8VG', 'Yudi', 'gudang1', 'password', 'AKTIF'),
('OWNR3f8x', NULL, 'Kevin', 'owner', 'password', 'AKTIF'),
('TOKOeLig', 'NsHmYgfe', 'Hendro', 'toko1', 'password', 'AKTIF');

INSERT INTO `master_merek` (`KD_MEREK_BARANG`, `NAMA_MEREK`, `STATUS`) VALUES
('ckDceFJK', 'Fiesta', 'AKTIF'),
('N6EKB1pQ', 'So Nice', 'AKTIF');

INSERT INTO `master_supplier` (`KD_SUPPLIER`, `NAMA_SUPPLIER`, `ALAMAT_SUPPLIER`, `PIC_SUPPLIER`, `NOTELP_SUPPLIER`, `STATUS`) VALUES
('NGP9zHgE', 'UD. Dingin Abadi', 'Cikarang', 'Ahmad', '081234567890', 'AKTIF'),
('NKnVD9E9', 'CV. Frozen Makmur', 'Depok', 'Siti', '02187998877', 'AKTIF');

INSERT INTO `master_barang` (`KD_BARANG`, `KD_KATEGORI_BARANG`, `KD_SUPPLIER`, `KD_MEREK_BARANG`, `NAMA_BARANG`, `BERAT`, `AVG_HARGA_BELI_PIECES`, `HARGA_JUAL_BARANG_PIECES`, `SATUAN_PERDUS`, `GAMBAR_BARANG`, `LAST_UPDATED`, `STATUS`) VALUES
('4aCSBjQPd3TzFd90', 'cx7xRUzL', NULL, 'ckDceFJK', 'Fiesta Chicken Nugget', 250, 20000.00, 23000.00, 25, 'assets/images/barang/4aCSBjQPd3TzFd90_1764406049.webp', '2025-11-29 08:47:29', 'AKTIF'),
('W8r1LuGwd932W3Zq', 'N9YZGVmr', NULL, 'N6EKB1pQ', 'So Nice Sosis Ayam Keju', 50, 30000.00, 33000.00, 10, 'assets/images/barang/W8r1LuGwd932W3Zq_1764406076.jpeg', '2025-11-29 08:47:56', 'AKTIF');

INSERT INTO `stock` (`KD_BARANG`, `KD_LOKASI`, `UPDATED_BY`, `JUMLAH_BARANG`, `JUMLAH_MIN_STOCK`, `JUMLAH_MAX_STOCK`, `SATUAN`, `LAST_UPDATED`) VALUES
('4aCSBjQPd3TzFd90', 'NRb2W8VG', 'GDNGj825', 0, NULL, 100, 'DUS', '2025-11-29 08:46:55'),
('4aCSBjQPd3TzFd90', 'NsHmYgfe', 'TOKOeLig', 0, 30, 100, 'PIECES', '2025-11-29 08:47:06'),
('W8r1LuGwd932W3Zq', 'NRb2W8VG', 'GDNGj825', 0, NULL, 30, 'DUS', '2025-11-29 08:46:55'),
('W8r1LuGwd932W3Zq', 'NsHmYgfe', 'TOKOeLig', 0, 10, 50, 'PIECES', '2025-11-29 08:47:06');

INSERT INTO `master_tipe_biaya_operasional` (`KD_TIPE_BIAYA_OPERASIONAL`, `NAMA_TIPE_BIAYA_OPERASIONAL`) VALUES
('TBOPA71z', 'Listrik'),
('TBOPc2gJ', 'Service'),
('TBOPFyrv', 'Gaji Karyawan'),
('TBOPNF2z', 'Pajak Bangunan'),
('TBOPUt7M', 'Air');

INSERT INTO `biaya_operasional` (`ID_COST`, `KD_LOKASI`, `KD_TIPE_BIAYA_OPERASIONAL`, `JUMLAH_BIAYA_UANG`, `PERIODE`, `LAST_UPDATED`) VALUES
('IBOP238AgneLUTNc', 'NRb2W8VG', 'TBOPc2gJ', 2000000.00, 'TAHUNAN', '2025-11-29 15:10:09'),
('IBOP9vY0gasd69rj', 'NRb2W8VG', 'TBOPFyrv', 6000000.00, 'BULANAN', '2025-11-29 15:09:24'),
('IBOPakb8ghVeCykp', 'NRb2W8VG', 'TBOPNF2z', 800000.00, 'TAHUNAN', '2025-11-29 15:09:49'),
('IBOPfA9egf6hB7tf', 'NRb2W8VG', 'TBOPA71z', 15000000.00, 'BULANAN', '2025-11-29 15:09:40'),
('IBOPq57SgWRg4qZC', 'NRb2W8VG', 'TBOPUt7M', 50000.00, 'BULANAN', '2025-11-29 15:09:07');
